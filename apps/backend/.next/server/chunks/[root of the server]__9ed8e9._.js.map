{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/pedromollehuancatorres/Documents/teach/pruebas/monorepo-demo/apps/backend/apps/backend/app/api/tasks/%5Bid%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\n\n// Simulación de tareas en memoria\nlet tasks = [\n  { id: 1, title: \"Task 1\", description: \"Description 1\", status: \"todo\" },\n  {\n    id: 2,\n    title: \"Task 2\",\n    description: \"Description 2\",\n    status: \"in-progress\"\n  },\n  { id: 3, title: \"Task 3\", description: \"Description 3\", status: \"completed\" }\n];\n\n// Helper para agregar encabezados CORS\nfunction withCORS(response: NextResponse) {\n  response.headers.set(\"Access-Control-Allow-Origin\", \"http://localhost:3001\");\n  response.headers.set(\n    \"Access-Control-Allow-Methods\",\n    \"GET, POST, PUT, DELETE, OPTIONS\"\n  );\n  response.headers.set(\"Access-Control-Allow-Headers\", \"Content-Type\");\n  return response;\n}\n\n// Manejo de solicitudes GET para obtener una tarea específica\nexport async function GET(req: NextRequest) {\n  const { searchParams } = new URL(req.url);\n  const id = Number(searchParams.get(\"id\"));\n\n  const task = tasks.find((task) => task.id === id);\n\n  if (!task) {\n    return withCORS(\n      NextResponse.json({ error: \"Task not found\" }, { status: 404 })\n    );\n  }\n\n  return withCORS(NextResponse.json(task));\n}\n\n// Manejo de solicitudes PUT para actualizar una tarea específica\nexport async function PUT(req: NextRequest) {\n  try {\n    const id = Number(req.url.split(\"/\").pop()); // Extraer el ID de la URL\n    const updates = await req.json();\n\n    if (!id || !updates) {\n      return withCORS(\n        NextResponse.json(\n          { error: \"Task ID and updates are required\" },\n          { status: 400 }\n        )\n      );\n    }\n\n    let taskFound = false;\n\n    tasks = tasks.map((task) => {\n      if (task.id === id) {\n        taskFound = true;\n        return { ...task, ...updates };\n      }\n      return task;\n    });\n\n    if (!taskFound) {\n      return withCORS(\n        NextResponse.json({ error: \"Task not found\" }, { status: 404 })\n      );\n    }\n\n    return withCORS(\n      NextResponse.json(\n        { message: \"Task updated successfully\" },\n        { status: 200 }\n      )\n    );\n  } catch (error) {\n    console.error(\"Error processing PUT request:\", error);\n    return withCORS(\n      NextResponse.json({ error: \"Invalid request\" }, { status: 400 })\n    );\n  }\n}\n\n// Manejo de solicitudes DELETE para eliminar una tarea específica\nexport async function DELETE(req: NextRequest) {\n  try {\n    const id = Number(req.url.split(\"/\").pop()); // Extraer el ID de la URL\n\n    if (!id) {\n      return withCORS(\n        NextResponse.json({ error: \"Task ID is required\" }, { status: 400 })\n      );\n    }\n\n    const initialLength = tasks.length;\n    tasks = tasks.filter((task) => task.id !== id);\n\n    if (tasks.length === initialLength) {\n      return withCORS(\n        NextResponse.json({ error: \"Task not found\" }, { status: 404 })\n      );\n    }\n\n    return withCORS(\n      NextResponse.json(\n        { message: \"Task deleted successfully\" },\n        { status: 200 }\n      )\n    );\n  } catch (error) {\n    console.error(\"Error processing DELETE request:\", error);\n    return withCORS(\n      NextResponse.json({ error: \"Invalid request\" }, { status: 400 })\n    );\n  }\n}\n\n// Manejo de solicitudes OPTIONS para preflight CORS\nexport async function OPTIONS() {\n  const response = new NextResponse(null, { status: 204 }); // Respuesta vacía\n  response.headers.set(\"Access-Control-Allow-Origin\", \"http://localhost:3001\");\n  response.headers.set(\n    \"Access-Control-Allow-Methods\",\n    \"GET, POST, PUT, DELETE, OPTIONS\"\n  );\n  response.headers.set(\"Access-Control-Allow-Headers\", \"Content-Type\");\n  return response;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}